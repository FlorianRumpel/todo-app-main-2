(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}})();const r=document.querySelector("ul"),d=document.querySelector("#input-create"),y=document.querySelector(".items-left"),E=document.querySelector(".clear-completed"),L=document.querySelectorAll(".select-btn");let s=k();s.forEach(t=>g(t));p();E.addEventListener("click",()=>{s.filter(e=>e.checked).forEach(h)});d.addEventListener("keypress",t=>{if(d.value!=""&&t.key==="Enter"){m();const e={text:d.value,id:crypto.randomUUID,checked:!1};g(e),s.push(e),l(),p(),d.value=""}});L.forEach((t,e)=>{t.addEventListener("click",()=>{document.querySelector(".active-button").classList.remove("active-button"),t.classList.add("active-button"),v(e)})});function v(t){r.innerHTML="";let e=s;t==0||(t==1?e=s.filter(n=>!n.checked):e=s.filter(n=>n.checked)),e.forEach(g),u()}function u(){y.textContent=`${r.childElementCount} items left`}u();function m(){r.children.length<4?r.style.height="240px":r.style.height="auto"}function g(t){const e=document.createElement("li"),n=document.createElement("input"),i=document.createElement("p"),c=document.createElement("img");e.setAttribute("id",t.id),e.setAttribute("draggable","true"),n.classList.add("check"),n.type="checkbox",n.checked=t.checked,n.addEventListener("click",()=>{t.checked=n.checked,l()}),i.textContent=t.text,c.addEventListener("click",()=>{h(t)}),c.setAttribute("src","./assets/icon-cross.svg"),e.append(n,i,c),r.append(e),l(),u()}function k(){const t=JSON.parse(localStorage.getItem("all_todos"));return t??[]}function h(t){document.getElementById(t.id).remove();const e=s.findIndex(n=>n.id==t.id);s.splice(e,1),l(),u(),m()}function l(){localStorage.setItem("all_todos",JSON.stringify(s))}document.onload=m();function p(){document.querySelectorAll("li").forEach(e=>{e.addEventListener("dragstart",()=>{e.classList.add("dragging")}),e.addEventListener("dragend",()=>{e.classList.remove("dragging")})})}r.addEventListener("dragover",S);function S(t){const e=r.querySelector(".dragging"),i=[...r.querySelectorAll("li:not(.dragging)")].find(c=>t.clientY<=c.offsetTop+c.offsetHeight/2);r.insertBefore(e,i),b()}function b(){const t=[...r.querySelectorAll("li")],e=[];t.forEach(n=>{e.push({text:n.children[1].textContent,id:n.id,checked:n.children[0].checked})}),s=e,l()}const a=document.querySelector(".switcher");function I(){a.checked==!1?localStorage.setItem("theme","black"):localStorage.setItem("theme","white")}function q(){localStorage.getItem("theme")==="white"?a.checked=!0:a.checked=!1}a.addEventListener("click",()=>{I()});document.onload=q();
